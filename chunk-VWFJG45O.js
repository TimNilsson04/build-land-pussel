import{A as F,B as E,C as D,D as O,E as k,F as P,G as T,H as _,I as J,J as Q,K as Y,M as Z,O as K,a as L,b as z,c as R,d as S,e as G,f as m,g as A,h as v,i as C,j as l,k as j,l as y,m as c,n as M,o as s,p as r,q as p,r as b,s as d,t as g,u as a,v as $,w as V,x as W,y as f,z as q}from"./chunk-KK2XCCZ7.js";var se={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lt=z(L({},se),{"[class.ng-submitted]":"isSubmitted"});var ae=new G("CallSetDisabledState",{providedIn:"root",factory:()=>X}),X="always";var le=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=A({type:n}),n.\u0275inj=S({});let i=n;return i})();var ce=new G("NgModelWithFormControlWarning");var de=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=A({type:n}),n.\u0275inj=S({imports:[le]});let i=n;return i})();var ee=(()=>{let n=class n{static withConfig(e){return{ngModule:n,providers:[{provide:ce,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ae,useValue:e.callSetDisabledState??X}]}}};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=A({type:n}),n.\u0275inj=S({imports:[de]});let i=n;return i})();var I=[{name:"Sweden",easy:[1,4,7]},{name:"Norway",easy:[2,4,6]},{name:"Spain",easy:[0,1,2,4,5,7,8]},{name:"United States of America",easy:[0,2,3,4,5,7,8]},{name:"Poland",easy:[0,1,2,3,4,5,7,8]},{name:"Germany",easy:[1,2,3,4,5,7]},{name:"Great Britain",easy:[1,4,7,8]},{name:"Iceland",easy:[0,4,5,7,8]},{name:"Italy",easy:[0,4,7,8]}];var w=(()=>{let n=class n{constructor(){this.color="blue",this.label="Button",this.onClick=new y}get classes(){return["button",`button--${this.color}`]}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m({type:n,selectors:[["app-button-component"]],inputs:{color:"color",label:"label"},outputs:{onClick:"onClick"},standalone:!0,features:[f],decls:2,vars:2,consts:[["type","button",3,"ngClass","click"]],template:function(t,o){t&1&&(s(0,"button",0),d("click",function(H){return o.onClick.emit(H)}),a(1),r()),t&2&&(c("ngClass",o.classes),l(),V(" ",o.label," "))},dependencies:[_,k],styles:['@import"https://fonts.googleapis.com/css2?family=VT323&display=swap";.button[_ngcontent-%COMP%]{color:#000;display:inline-block;cursor:pointer;font-weight:700;font-size:32px;font-family:VT323,monospace;line-height:1;padding:6px;border-width:10px;border-style:solid;width:400px;max-width:100%;transition:transform .1s}@media (max-width: 840px){.button[_ngcontent-%COMP%]{width:250px;font-size:24px}}@media (max-height: 840px){.button[_ngcontent-%COMP%]{width:220px;font-size:24px}}.button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.button--blue[_ngcontent-%COMP%]{border-color:#aac2d2;background-color:#ceebff}.button--green[_ngcontent-%COMP%]{border-color:#78a372;background-color:#bcffb1}.button--yellow[_ngcontent-%COMP%]{border-color:#ccc057;background-color:#fff067}.button--smallYellow[_ngcontent-%COMP%]{border-color:#ccc057;background-color:#fff067;width:4.5em;padding-left:0;padding-right:0}.button--red[_ngcontent-%COMP%]{border-color:#cc7a7a;background-color:#f99}.button--black[_ngcontent-%COMP%]{color:#b92713;border-color:#222;background-color:#2b2b2b}.button--none[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent;color:#fff}.button--white[_ngcontent-%COMP%]{border-color:#cac8c8;background-color:#ebe8e8;width:4.5em;padding-left:0;padding-right:0}']});let i=n;return i})();var he=["form"],pe=["snackbar"],me=()=>["display-none","tile-checkbox"];function ge(i,n){if(i&1){let h=b();s(0,"section",17)(1,"input",18),d("change",function(){v(h);let t=g();return C(t.updateReplayTiles())}),r(),p(2,"label",19),r()}i&2&&(l(),c("ngClass",q(1,me)))}var te=(()=>{let n=class n{constructor(){this.tileElementId=[],this.tiles=new Array(9),this.userSelectedInputTiles=[],this.correctTestAnswerId=[],this.scoreMultiplier=1,this.score=0,this.lives=3,this.randomCountryIndex=0,this.markedTiles=[],this.correctMarkedTiles=0,this.numberOfCorrectTiles=0,this.replay=[],this.audio=new Audio,this.sendMessage=new y,this.conditionToSendEnd="end",this.conditionToSendStart="start",this.countries=I}getRandomCountry(){this.randomCountryIndex=Math.floor(Math.random()*I.length)}showSnackbar(e){let t=this.snackbar.nativeElement;t.innerHTML=e,t.className="show",setTimeout(function(){t.className=t.className.replace("show","")},4e3)}ngOnInit(){this.getRandomCountry(),this.fadeIn()}fadeOut(){let e=.2,t=setInterval(()=>{e>0?(e=Math.max(0,e-.01),this.audio.volume=e,e<.02&&this.audio.pause()):clearInterval(t)},150)}fadeIn(){let e=0;this.playSound();let t=setInterval(()=>{e<.2?(e+=.01,this.audio.volume=e):clearInterval(t)},150)}ngAfterViewInit(){this.correctTestAnswerId=this.getCorrectTestAnswerId(),Array.from(this.form.nativeElement.children).forEach((t,o)=>{t.id=o.toString(),Array.from(t.children).forEach((u,H)=>{H===0?this.setupTileInputElement(u,o):this.setupTileLabelElement(u,o)})})}getCorrectTestAnswerId(){return I[this.randomCountryIndex].easy}setupTileInputElement(e,t){let o=e;o.id="tile"+t.toString(),o.checked=!1,this.userSelectedInputTiles.push(o),this.tileElementId.push(t)}setupTileLabelElement(e,t){let o=e;o.htmlFor="tile"+t.toString()}getHighscoreSorted(){localStorage.setItem("score",JSON.stringify(this.score))}onCheckConfirm(){this.saveTileGrid(),this.pointsForCorrectTiles(),this.markedTiles.toString()!==this.correctTestAnswerId.toString()&&this.invalidAnswer(),this.resetValues()}pointsForCorrectTiles(){let e=20;this.correctTestAnswerId.forEach(t=>{this.numberOfCorrectTiles++,e-=2,this.markedTiles.forEach(o=>{o===t&&(this.score+=e*this.scoreMultiplier,this.correctMarkedTiles++)})}),this.scoreMultiplier+=.15,this.showSnackbar('<img style="width: 36px;" src="../../assets/images/correct.png" alt=""> Horay! :D')}invalidAnswer(){this.lives--,this.scoreMultiplier=1,this.markedTiles.length>this.correctTestAnswerId.length?this.showSnackbar('<img style="width: 36px;" src="../../assets/images/incorrect.png" alt=""> Oh no! You got '+this.correctMarkedTiles+" correct tiles out of "+this.numberOfCorrectTiles+" but you marked too many tiles!"):this.showSnackbar('<img style="width: 36px;" src="../../assets/images/incorrect.png" alt=""> Oh no! You only got '+this.correctMarkedTiles+" correct tiles out of "+this.numberOfCorrectTiles),this.lives<=0&&(this.saveReplayToLocalStorage(),this.getHighscoreSorted(),this.fadeOut(),this.sendMessage.emit(this.conditionToSendEnd))}saveReplayToLocalStorage(){localStorage.setItem("latestReplay",JSON.stringify(this.replay))}updateReplayTiles(){let e=[];this.tileElementId.forEach(o=>{this.userSelectedInputTiles[o].checked&&e.push(o)});let t={moves:e,country:I[this.randomCountryIndex].name,lives:this.lives,score:this.score,multiplier:this.scoreMultiplier};this.replay.push(t)}saveTileGrid(){this.tileElementId.forEach(e=>{this.userSelectedInputTiles[e].checked&&this.markedTiles.push(e)})}resetValues(){this.getRandomCountry(),this.markedTiles=[],this.userSelectedInputTiles=[],this.tileElementId=[],this.correctMarkedTiles=0,this.numberOfCorrectTiles=0,this.ngAfterViewInit()}onClickRestart(){this.getRandomCountry(),this.lives=3,this.score=0,this.scoreMultiplier=1,this.resetValues()}onClickHome(){this.fadeOut(),this.sendMessage.emit(this.conditionToSendStart)}playSound(){this.audio.src="../../assets/music/Land-Puzzle-Main-Music.mp3",this.audio.volume=.3,this.audio.load(),this.audio.autoplay=!0,this.audio.loop=!0}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m({type:n,selectors:[["app-tile"]],viewQuery:function(t,o){if(t&1&&(D(he,5),D(pe,5)),t&2){let u;E(u=O())&&(o.form=u.first),E(u=O())&&(o.snackbar=u.first)}},outputs:{sendMessage:"sendMessage"},standalone:!0,features:[f],decls:24,vars:7,consts:[[1,"tile"],[1,"top-flex"],[1,"statistic"],[1,"statistics-text"],[1,"restart-home"],[3,"click"],["src","../../assets/images/restart.png","alt","Restart"],["src","../../assets/images/home.png","alt","Home"],[1,"draw-container"],[1,"draw-country"],[1,"form-padding"],["id","form","action","","ng-controller","ExampleController"],["form",""],["class","tile-outer",4,"ngFor","ngForOf"],[3,"color","label","onClick"],["id","snackbar"],["snackbar",""],[1,"tile-outer"],["type","checkbox","id","Placeholder",3,"ngClass","change"],["for","Placeholder",1,"tile-inner"]],template:function(t,o){t&1&&(s(0,"section",0)(1,"section",1)(2,"section",2)(3,"p",3),a(4),r(),s(5,"p",3),a(6),r(),s(7,"p",3),a(8),r()(),s(9,"section",4)(10,"button",5),d("click",function(){return o.onClickRestart()}),p(11,"img",6),r(),s(12,"button",5),d("click",function(){return o.onClickHome()}),p(13,"img",7),r()()(),s(14,"section",8)(15,"h1",9),a(16),r(),s(17,"section",10)(18,"form",11,12),M(20,ge,3,2,"section",13),r()(),s(21,"app-button-component",14),d("onClick",function(){return o.onCheckConfirm()}),r()(),p(22,"div",15,16),r()),t&2&&(l(4),V("Lives: ",o.lives,""),l(2),V("Score: ",o.score.toFixed(0),""),l(2),V("Multiplier: ",o.scoreMultiplier.toFixed(2),""),l(8),V("Draw ",o.countries[o.randomCountryIndex].name,""),l(4),c("ngForOf",o.tiles),l(),c("color","blue")("label","Confirm"))},dependencies:[_,k,P,w],styles:['.display-none[_ngcontent-%COMP%]{display:none}.tile[_ngcontent-%COMP%]{box-shadow:inset 0 40vh 40vh -40vh #000;height:100vh}.tile-outer[_ngcontent-%COMP%]{box-sizing:border-box;border:3px #E5E6E7 solid;width:100%;max-width:180px;aspect-ratio:1}.tile-inner[_ngcontent-%COMP%]{display:block;width:100%;height:100%;background-image:url("./media/tileChecked-JRIE4QLK.png");background-size:cover;opacity:0;transition:.2s}.tile-inner[_ngcontent-%COMP%]:hover{opacity:.35}.tile-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{opacity:.6}.tile-hint[_ngcontent-%COMP%]{background-color:azure}#form[_ngcontent-%COMP%]{border:3px #E5E6E7 solid;display:grid;grid-template-columns:1fr 1fr 1fr}#snackbar[_ngcontent-%COMP%]{box-sizing:border-box;border:10px solid #a1b7c6;filter:drop-shadow(var(--shadow1));visibility:hidden;display:flex;align-items:center;justify-content:center;position:absolute;left:50%;transform:translate(-50%);top:10px;gap:20px;transition:.5s;opacity:0;padding:20px;width:40vw;background-color:var(--color-tertiary);font-family:VT323,monospace;font-weight:400;font-size:32px}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;opacity:1;top:30px}.form-padding[_ngcontent-%COMP%]{padding:20px;background-color:var(--color-secondary)}.statistics-text[_ngcontent-%COMP%]{color:var(--color-light);font-family:VT323,monospace;font-size:56px;text-shadow:var(--shadow1);margin:0}.draw-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin:0 auto;text-align:center;display:flex;flex-direction:column;gap:10px;width:500px;max-width:33vw;padding:0}.draw-country[_ngcontent-%COMP%]{padding:2px 0 10px;color:var(--color-light);text-shadow:var(--shadow1);font-weight:400;background-color:var(--color-secondary);font-family:VT323,monospace;font-size:60px;margin:0;text-align:center}.top-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px 30px 4vh}.restart-home[_ngcontent-%COMP%]{display:flex;gap:20px}.restart-home[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:transparent;border:none}.restart-home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;filter:drop-shadow(var(--shadow1))}@media (max-width: 840px){@media (orientation: portrait){.draw-container[_ngcontent-%COMP%]{top:55%;width:420px;max-width:75vw}#snackbar[_ngcontent-%COMP%]{font-size:28px;top:auto;bottom:10px;width:90vw}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;opacity:1;top:auto;bottom:30px}}.restart-home[_ngcontent-%COMP%]{flex-direction:column;gap:0px}.restart-home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.tile-outer[_ngcontent-%COMP%], #form[_ngcontent-%COMP%]{border:2px #E5E6E7 solid}.top-flex[_ngcontent-%COMP%]{padding:8px 16px 4vh}.draw-country[_ngcontent-%COMP%]{font-size:48px}.statistics-text[_ngcontent-%COMP%]{font-size:32px}}@media (max-height: 840px){@media (orientation: landscape){.draw-container[_ngcontent-%COMP%]{width:360px;max-width:55vh}.statistics-text[_ngcontent-%COMP%]{font-size:32px;max-width:35vw}#snackbar[_ngcontent-%COMP%]{font-size:20px;top:auto;bottom:10px;left:30px;width:30vw;transform:translate(0)}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;opacity:1;top:auto;bottom:30px}}.restart-home[_ngcontent-%COMP%]{gap:10px}.restart-home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}#snackbar[_ngcontent-%COMP%]{font-size:28px}.tile-outer[_ngcontent-%COMP%], #form[_ngcontent-%COMP%]{border:2px #E5E6E7 solid}.draw-country[_ngcontent-%COMP%]{font-size:36px}.statistics-text[_ngcontent-%COMP%]{font-size:32px}}']});let i=n;return i})();var ne=(()=>{let n=class n{constructor(){this.sendMessage=new y,this.conditionToSendGame="game",this.conditionToSendCredits="credits",this.conditionToSendEnd="end",this.audio=new Audio,this.interval=200}ngOnInit(){this.fadeIn()}fadeOut(){let e=.2,t=setInterval(()=>{e>0?(e=Math.max(0,e-.01),this.audio.volume=e,e<.02&&this.audio.pause()):clearInterval(t)},150)}fadeIn(){let e=0;this.playSound();let t=setInterval(()=>{e<.2?(e+=.01,this.audio.volume=e):clearInterval(t)},150)}onClickStart(){this.fadeOut(),this.sendMessage.emit(this.conditionToSendGame)}onClickCredits(){this.fadeOut(),this.sendMessage.emit(this.conditionToSendCredits)}onClickHighscore(){this.fadeOut(),localStorage.setItem("score",JSON.stringify(-1)),this.sendMessage.emit(this.conditionToSendEnd)}playSound(){this.audio.src="../../assets/music/Land-Puzzle-Start-Menu.mp3",this.audio.volume=0,this.audio.load(),this.audio.autoplay=!0,this.audio.loop=!0}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m({type:n,selectors:[["app-home"]],outputs:{sendMessage:"sendMessage"},standalone:!0,features:[f],decls:6,vars:6,consts:[[1,"home-flex"],["src","../../assets/images/landPuzzleLogo.gif","alt","",1,"logo"],[1,"home-buttons"],[3,"color","label","onClick"]],template:function(t,o){t&1&&(s(0,"section",0),p(1,"img",1),s(2,"section",2)(3,"app-button-component",3),d("onClick",function(){return o.onClickStart()}),r(),s(4,"app-button-component",3),d("onClick",function(){return o.onClickCredits()}),r(),s(5,"app-button-component",3),d("onClick",function(){return o.onClickHighscore()}),r()()()),t&2&&(l(3),c("color","blue")("label","Start"),l(),c("color","blue")("label","Credits"),l(),c("color","blue")("label","Highscore"))},dependencies:[_,w],styles:[".home-flex[_ngcontent-%COMP%]{box-shadow:inset 0 40vh 40vh -40vh #000;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;gap:15px}.logo[_ngcontent-%COMP%]{width:700px;max-width:80vw;filter:drop-shadow(5px 0 0 var(--color-light)) drop-shadow(0 5px 0 var(--color-light)) drop-shadow(-5px 0 0 var(--color-light)) drop-shadow(0 -5px 0 var(--color-light)) drop-shadow(0 5px 10px #00000075)}.home-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}@media (max-width: 840px){.logo[_ngcontent-%COMP%]{width:400px;filter:drop-shadow(3px 0 0 var(--color-light)) drop-shadow(0 3px 0 var(--color-light)) drop-shadow(-3px 0 0 var(--color-light)) drop-shadow(0 -3px 0 var(--color-light)) drop-shadow(0 5px 10px #00000075)}}@media (max-height: 840px){.logo[_ngcontent-%COMP%]{width:400px;filter:drop-shadow(3px 0 0 var(--color-light)) drop-shadow(0 3px 0 var(--color-light)) drop-shadow(-3px 0 0 var(--color-light)) drop-shadow(0 -3px 0 var(--color-light)) drop-shadow(0 5px 10px #00000075)}@media (orientation: landscape){.home-buttons[_ngcontent-%COMP%]{flex-direction:row}}}"]});let i=n;return i})();var fe=["nameInput"];function _e(i,n){i&1&&(s(0,"h1"),a(1,"You died!"),r())}function ye(i,n){i&1&&(s(0,"h1"),a(1,"Highscore"),r())}function ve(i,n){if(i&1){let h=b();s(0,"app-button-component",4),d("onClick",function(){v(h);let t=g();return C(t.onClickRestart())}),r()}i&2&&c("color","none")("label","Restart")}function Ce(i,n){if(i&1){let h=b();s(0,"app-button-component",4),d("onClick",function(){v(h);let t=g();return C(t.onClickReplay())}),r()}i&2&&c("color","none")("label","Replay")}var B=i=>[i];function be(i,n){if(i&1&&(s(0,"section",10)(1,"p",11),a(2),r(),s(3,"p"),a(4),r()()),i&2){let h=n.$implicit,e=g(2);l(2),W("",F(3,B,h+1+".")," ",F(5,B,e.names[h]).toString().toUpperCase(),""),l(2),$(F(7,B,e.scores[h]))}}function Me(i,n){if(i&1&&(s(0,"div",7)(1,"h2",8),a(2,"Highscores"),r(),M(3,be,5,9,"section",9),r()),i&2){let h=g();l(3),c("ngForOf",h.topScores)}}function xe(i,n){if(i&1){let h=b();s(0,"div",12)(1,"h2"),a(2,"New Highscore!"),r(),s(3,"p"),a(4,"Enter your initials"),r(),s(5,"section",13),p(6,"input",14,15),s(8,"button",16),d("click",function(){v(h);let t=g();return C(t.onClickSortHighscore())}),a(9,"Confirm"),r()()()}}var ie=(()=>{let n=class n{constructor(e){this.http=e,this.conditionToSendRestart="game",this.conditionToSendExit="start",this.conditionToSendReplay="replay",this.topScores=[0,1,2],this.scores=[],this.names=[],this.condition="highscoreChart",this.audio=new Audio,this.url="http://jupiter.umea-ntig.se:6900/",this.sendMessage=new y}getHighscoreFromDatabase(){return R(this,null,function*(){yield this.http.get(this.url+"getHighscore").subscribe(e=>{this.names=e.data.map(t=>t.name),this.scores=e.data.map(t=>t.score)})})}postHighscoreToDatabase(e,t){let o=new J().set("name",e).set("score",t);this.http.post(this.url+"postHighscore?name="+e+"&score="+t,o).subscribe(()=>{})}deleteHighscoreFromDatabase(){this.http.delete(this.url+"removeLowestHighscore").subscribe(()=>{})}onClickSortHighscore(){return R(this,null,function*(){this.sortHighscore(),yield setTimeout(()=>{this.getHighscoreFromDatabase()},900)})}sortHighscore(){this.postHighscoreToDatabase(this.setNameForHighscore(),JSON.parse(localStorage.getItem("score")));for(let e=0;e<this.scores.length;e++)this.scores.length>2&&this.deleteHighscoreFromDatabase();this.getHighscoreFromDatabase(),this.condition="highscoreChart"}setNameForHighscore(){return this.nameInput.nativeElement.value}checkIfHighscore(){this.getHighscoreFromDatabase(),this.scores.length===0?this.condition="inputHighscoreName":this.scores.forEach(e=>{e<JSON.parse(localStorage.getItem("score"))&&(this.condition="inputHighscoreName")})}ngOnInit(){setTimeout(()=>{this.getHighscoreFromDatabase()},300),this.fadeIn(),localStorage.getItem("score")===JSON.stringify(-1)?this.condition="fromStartHighscore":this.checkIfHighscore()}fadeOut(){let e=.2,t=setInterval(()=>{e>0?(e=Math.max(0,e-.01),this.audio.volume=e,e<.02&&(this.audio.pause(),this.audio.volume=0)):clearInterval(t)},150)}fadeIn(){let e=0;this.playSound();let t=setInterval(()=>{e<.2?(e+=.01,this.audio.volume=e):clearInterval(t)},150)}onClickRestart(){this.fadeOut(),this.sendMessage.emit(this.conditionToSendRestart)}onClickExit(){this.fadeOut(),this.sendMessage.emit(this.conditionToSendExit)}onClickReplay(){this.sendMessage.emit(this.conditionToSendReplay)}playSound(){this.audio.src="../../assets/music/Land-Puzzle-Death-Music.mp3",this.audio.volume=0,this.audio.load(),this.audio.autoplay=!0,this.audio.loop=!0}};n.\u0275fac=function(t){return new(t||n)(j(Q))},n.\u0275cmp=m({type:n,selectors:[["app-end"]],viewQuery:function(t,o){if(t&1&&D(fe,5),t&2){let u;E(u=O())&&(o.nameInput=u.first)}},outputs:{sendMessage:"sendMessage"},standalone:!0,features:[f],decls:9,vars:8,consts:[[1,"ending-screen"],[1,"highscore-top-container"],[4,"ngIf"],[3,"color","label","onClick",4,"ngIf"],[3,"color","label","onClick"],["class","highscore",4,"ngIf"],["class","input-highscore",4,"ngIf"],[1,"highscore"],[1,"highscore-title"],["class","highscore-text",4,"ngFor","ngForOf"],[1,"highscore-text"],[1,"highscore-name"],[1,"input-highscore"],[1,"input-highscore-name"],["type","text","name","","maxlength","3","id",""],["nameInput",""],["type","button",3,"click"]],template:function(t,o){t&1&&(s(0,"section",0)(1,"section",1),M(2,_e,2,0,"h1",2)(3,ye,2,0,"h1",2)(4,ve,1,2,"app-button-component",3)(5,Ce,1,2,"app-button-component",3),s(6,"app-button-component",4),d("onClick",function(){return o.onClickExit()}),r()(),M(7,Me,4,1,"div",5)(8,xe,10,0,"div",6),r()),t&2&&(l(2),c("ngIf",o.condition==="highscoreChart"),l(),c("ngIf",o.condition==="fromStartHighscore"),l(),c("ngIf",o.condition==="highscoreChart"),l(),c("ngIf",o.condition==="highscoreChart"),l(),c("color","none")("label","Exit"),l(),c("ngIf",o.condition==="highscoreChart"||"fromStartHighscore"),l(),c("ngIf",o.condition==="inputHighscoreName"))},dependencies:[_,P,T,w],styles:[".ending-screen[_ngcontent-%COMP%]{background-color:var(--color-dark);display:flex;flex-direction:column;justify-content:center;align-items:center;min-width:100vw;min-height:100vh;gap:30px}.highscore-top-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column}.highscore-top-container[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{color:#b92713;font-size:78px;margin:0}.highscore[_ngcontent-%COMP%]{width:400px;max-width:80vw;background-color:#2d2d2d;border:solid 10px #2D2D2D;color:var(--color-light)}.highscore-name[_ngcontent-%COMP%]{width:80px}.highscore-title[_ngcontent-%COMP%]{text-align:center;font-size:48px;margin:0;padding:10px 0 15px}.highscore-text[_ngcontent-%COMP%]{display:flex;gap:40px;background-color:#3b3b3b;margin:0;padding:15px 30px;font-size:32px}.highscore-text[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}.highscore-text[_ngcontent-%COMP%]:nth-child(odd){background-color:#474747}.input-highscore[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;width:100vw;height:100vh;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;background-color:var(--color-dark)}.input-highscore[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#f6dd53;font-size:52px;animation:_ngcontent-%COMP%_newHighscore 2s ease-in-out infinite;opacity:1}@keyframes _ngcontent-%COMP%_newHighscore{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.input-highscore[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:42px;color:var(--color-light)}.input-highscore-name[_ngcontent-%COMP%]{display:flex}.input-highscore-name[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;border-radius:0;width:140px;border:none;font-family:VT323,monospace;font-weight:400;padding:4px;font-size:30px;background-color:#2d2d2d;color:var(--color-light);outline:none}.input-highscore-name[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-radius:0;border:solid 5px #96CC8E;font-family:VT323,monospace;font-weight:400;font-size:28px;height:100%;background-color:#bcffb1}@media (max-width: 786px) or (max-height: 768px){.highscore-top-container[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:62px}.highscore-name[_ngcontent-%COMP%]{width:50px}.highscore-title[_ngcontent-%COMP%]{font-size:28px;padding:0 0 8px}.highscore-text[_ngcontent-%COMP%]{display:flex;gap:40px;background-color:#3b3b3b;margin:0;padding:6px 30px;font-size:20px}.highscore[_ngcontent-%COMP%]{width:250px;border:5px solid #2D2D2D}.input-highscore[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:40px}.input-highscore[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:32px}.input-highscore-name[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:20px}.input-highscore-name[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{font-size:24px;width:100px}}"]});let i=n;return i})();var we=["form"];function Ve(i,n){i&1&&(s(0,"section",17),p(1,"label",18),r())}var oe=(()=>{let n=class n{constructor(){this.tiles=new Array(9),this.replay=localStorage.getItem("latestReplay")?JSON.parse(localStorage.getItem("latestReplay")):[],this.frameIndex=-1,this.tileElements=[],this.markedTiles=[],this.isPlaying=!1,this.playbackSpeedMS=500,this.totalMovesCount=0,this.conditionToSendStart="start",this.percentViewed=0,this.root=document.documentElement,this.clamp=(e,t,o)=>Math.min(Math.max(e,t),o-1),this.sendMessage=new y}getPercentageViewed(){this.percentViewed=(this.frameIndex+1)/this.totalMovesCount*100,this.root.style.setProperty("--progress-bar-width",this.percentViewed+"%")}getTotalMovesCount(){for(let e=0;e<this.replay.length;e++)this.totalMovesCount++}ngAfterViewInit(){this.tileElements=Array.from(this.form.nativeElement.children),this.getTotalMovesCount()}skipForward(){this.frameIndex++,this.frameIndex=this.clamp(this.frameIndex,-1,this.totalMovesCount),this.getPercentageViewed(),this.displayFrame()}skipBackward(){this.frameIndex--,this.frameIndex=this.clamp(this.frameIndex,-1,this.totalMovesCount),this.getPercentageViewed(),this.displayFrame()}rewind(){this.frameIndex=-1,this.getPercentageViewed(),this.displayFrame()}togglePlayPause(){this.isPlaying=!this.isPlaying;let e=window.setInterval(()=>{this.isPlaying&&this.frameIndex<this.totalMovesCount-1?(this.play(),this.root.style.setProperty("--play-paus","url(./assets/images/pause.png)")):(clearInterval(e),this.isPlaying=!1,this.root.style.setProperty("--play-paus","url(./assets/images/play.png)"))},this.playbackSpeedMS)}play(){this.getPercentageViewed(),this.skipForward(),this.displayFrame()}displayFrame(){this.resetTiles(),this.resetValues(),this.saveMarkedTiles(),this.fillInMarkedTiles()}resetTiles(){this.markedTiles.forEach(e=>{this.tileElements[e].children[0].classList.remove("tile-checked")})}resetValues(){this.markedTiles=[]}saveMarkedTiles(){for(let e=0;e<this.tileElements.length;e++)(this.replay[this.frameIndex].moves[e]||this.replay[this.frameIndex].moves[e]===0)&&this.markedTiles.push(this.replay[this.frameIndex].moves[e])}fillInMarkedTiles(){this.markedTiles.forEach(e=>{this.tileElements[e].children[0].classList.add("tile-checked")})}onClickHome(){this.sendMessage.emit(this.conditionToSendStart)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m({type:n,selectors:[["app-replay"]],viewQuery:function(t,o){if(t&1&&D(we,5),t&2){let u;E(u=O())&&(o.form=u.first)}},outputs:{sendMessage:"sendMessage"},standalone:!0,features:[f],decls:18,vars:1,consts:[[1,"tile"],[1,"draw-container"],[1,"draw-country"],[1,"form-padding"],["id","form","action","","ng-controller","ExampleController"],["form",""],["class","tile-outer",4,"ngFor","ngForOf"],[1,"replay"],[1,"progress-bar-outer"],["id","progressBar",1,"progress-bar-inner"],[1,"replay-buttons"],[1,"home",3,"click"],[1,"replay-buttons-middle"],[1,"last-frame",3,"click"],[1,"play-paus",3,"click"],[1,"next-frame",3,"click"],[1,"rewind",3,"click"],[1,"tile-outer"],["for","Placeholder",1,"tile-inner"]],template:function(t,o){t&1&&(s(0,"section",0)(1,"section",1)(2,"h1",2),a(3,"Draw "),r(),s(4,"section",3)(5,"form",4,5),M(7,Ve,2,0,"section",6),r()()(),s(8,"section",7)(9,"div",8),p(10,"div",9),r(),s(11,"section",10)(12,"button",11),d("click",function(){return o.onClickHome()}),r(),s(13,"section",12)(14,"button",13),d("click",function(){return o.skipBackward()}),r(),s(15,"button",14),d("click",function(){return o.togglePlayPause()}),r(),s(16,"button",15),d("click",function(){return o.skipForward()}),r()(),s(17,"button",16),d("click",function(){return o.rewind()}),r()()()()),t&2&&(l(7),c("ngForOf",o.tiles))},dependencies:[_,P],styles:['.display-none[_ngcontent-%COMP%]{display:none}.tile[_ngcontent-%COMP%]{box-shadow:inset 0 40vh 40vh -40vh #000;height:100vh}.tile-outer[_ngcontent-%COMP%]{box-sizing:border-box;border:3px #E5E6E7 solid;width:100%;max-width:180px;aspect-ratio:1}.tile-inner[_ngcontent-%COMP%]{display:block;width:100%;height:100%;background-image:url("./media/tileChecked-JRIE4QLK.png");background-size:cover;opacity:0;transition:.2s}.tile-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{opacity:.6}.tile-checked[_ngcontent-%COMP%]{opacity:.6}.tile-hint[_ngcontent-%COMP%]{background-color:azure}#form[_ngcontent-%COMP%]{border:3px #E5E6E7 solid;display:grid;grid-template-columns:1fr 1fr 1fr}.form-padding[_ngcontent-%COMP%]{padding:20px;background-color:var(--color-secondary)}.draw-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin:0 auto;text-align:center;display:flex;flex-direction:column;gap:10px;width:500px;max-width:33vw;padding:0}.draw-country[_ngcontent-%COMP%]{padding:2px 0 10px;color:var(--color-light);text-shadow:var(--shadow1);font-weight:400;background-color:var(--color-secondary);font-family:VT323,monospace;font-size:60px;margin:0;text-align:center}.replay[_ngcontent-%COMP%]{position:absolute;width:90vw;left:calc(5vw - 10px);bottom:3vh;background-color:var(--color-secondary);padding:10px}.progress-bar-outer[_ngcontent-%COMP%]{height:15px;width:100%;background-color:var(--color-light);margin-bottom:10px}.progress-bar-inner[_ngcontent-%COMP%]{transition:.5s linear;height:100%;width:var(--progress-bar-width);background-color:var(--color-background)}.replay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.replay-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:var(--color-light);width:80%;filter:drop-shadow(var(--shadow1))}.home[_ngcontent-%COMP%]{background-image:url("./media/home-MESNQPRA.png")}.play-paus[_ngcontent-%COMP%]{background-image:var(--play-paus)}.last-frame[_ngcontent-%COMP%]{background-image:url("./media/lastFrame-6BJWUWFM.png")}.next-frame[_ngcontent-%COMP%]{background-image:url("./media/nextFrame-TGJR6HPK.png")}.rewind[_ngcontent-%COMP%]{background-image:url("./media/rewind-TOGUDJI5.png")}.replay-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-size:80%;background-position:center;background-repeat:no-repeat;width:60px;aspect-ratio:1;display:flex;align-items:center;background-color:#3a5369;border:none;padding:8px}.replay-buttons-middle[_ngcontent-%COMP%]{display:flex;gap:7px}@media (max-width: 840px){@media (orientation: portrait){.draw-container[_ngcontent-%COMP%]{top:55%;width:420px;max-width:75vw}}.replay-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px}.tile-outer[_ngcontent-%COMP%], #form[_ngcontent-%COMP%]{border:2px #E5E6E7 solid}.top-flex[_ngcontent-%COMP%]{padding:8px 16px 4vh}.draw-country[_ngcontent-%COMP%]{font-size:48px}}@media (max-height: 840px){@media (orientation: landscape){.draw-container[_ngcontent-%COMP%]{width:360px;max-width:55vh;top:40%}}.progress-bar-outer[_ngcontent-%COMP%]{height:10px;margin-bottom:10px}.replay-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:34px}.replay-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px}.tile-outer[_ngcontent-%COMP%], #form[_ngcontent-%COMP%]{border:2px #E5E6E7 solid}.draw-country[_ngcontent-%COMP%]{font-size:36px}}']});let i=n;return i})();var re=(()=>{let n=class n{constructor(){this.brs=[0,1,2,3,4,5,6,7],this.sendMessage=new y,this.audio=new Audio,this.conditionToSendStart="start"}ngOnInit(){this.fadeIn()}onClickHome(){this.fadeOut(),this.sendMessage.emit(this.conditionToSendStart)}fadeOut(){let e=.2,t=setInterval(()=>{e>0?(e=Math.max(0,e-.01),this.audio.volume=e,e<.02&&this.audio.pause()):clearInterval(t)},150)}fadeIn(){let e=0;this.playSound();let t=setInterval(()=>{e<.2?(e+=.01,this.audio.volume=e):clearInterval(t)},150)}playSound(){this.audio.src="../../assets/music/Land-Puzzle-Start-Menu.mp3",this.audio.volume=0,this.audio.load(),this.audio.play()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m({type:n,selectors:[["app-credits"]],outputs:{sendMessage:"sendMessage"},standalone:!0,features:[f],decls:55,vars:2,consts:[[1,"credits"],[1,"credits-inner"],["href","https://github.com/TimNilsson04"],["href",""],["href","https://www.soundtrap.com/home/creator/projects"],["href","https://angular.io/"],["href","https://storybook.js.org/"],["src","../../assets/images/landPuzzleLogo.gif","alt","",1,"credits-logo"],[1,"credits-button",3,"color","label","onClick"],["src","../../assets/images/dancingTim.gif","alt","",1,"tim"],["src","../../assets/images/dancingTim.gif","alt","",1,"tim2"]],template:function(t,o){t&1&&(s(0,"section",0)(1,"section",1)(2,"h1"),a(3,"Credits"),r(),s(4,"p"),a(5," A game by "),s(6,"a",2),a(7,"Tim Nilsson"),r(),a(8,", "),s(9,"a",3),a(10,"Rasmus Johansson"),r(),a(11,", "),s(12,"a",3),a(13,"Albert Sparrman"),r(),a(14," and "),s(15,"a",3),a(16,"Angelica Sj\xF6din"),r(),a(17,". "),r(),s(18,"p"),a(19," Programmers Rasmus Johansson, Tim Nilsson, Angelica Sj\xF6din and Albert Sparrman. "),r(),s(20,"p"),a(21," Designers Angelica Sj\xF6din and Albert Sparrman. "),r(),s(22,"p"),a(23," Front End Back End Programmers Rasmus Johansson and Tim Nilsson. "),r(),s(24,"p"),a(25," Back End Back End Programmers Rasmus Johansson and Tim Nilsson. "),r(),s(26,"p"),a(27," Database Creator Lukas Johansson and Rasmus Johansson. "),r(),s(28,"p"),a(29," Art by Angelica Sj\xF6din and Albert Sparrman. "),r(),s(30,"p"),a(31," Music by Tim Nilsson. "),r(),s(32,"p"),a(33," Audio Engineer "),s(34,"a",4),a(35,"Tim Nilsson"),r(),a(36,". "),r(),s(37,"p"),a(38," Made with "),s(39,"a",5),a(40,"Angular"),r(),a(41," and "),s(42,"a",6),a(43,"Storybook"),r(),a(44,". "),r(),s(45,"p"),a(46," Special thanks to Tim Fagerdal for the credits idea "),r(),s(47,"p"),a(48," Dedicated to Mr.Fresh. "),r(),s(49,"p"),a(50," And thank you for playing! "),r()(),p(51,"img",7),s(52,"app-button-component",8),d("onClick",function(){return o.onClickHome()}),r(),p(53,"img",9)(54,"img",10),r()),t&2&&(l(52),c("color","blue")("label","Back"))},dependencies:[w],styles:[".credits[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#00000069;box-shadow:inset 0 40vh 40vh -40vh #000}.credits-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:60px;width:600px;max-width:80vw;left:50%;opacity:0;transform:translate(-50%);color:var(--color-light);position:absolute;animation:_ngcontent-%COMP%_credits 32s linear 1}.credits-inner[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:40px}.credits-inner[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:32px}.credits-inner[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#a7b2d1}.credits-button[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);bottom:20px;box-shadow:0 5px 20px #0005}.credits-logo[_ngcontent-%COMP%]{width:550px;max-width:80vw;filter:drop-shadow(3px 0 0 var(--color-light)) drop-shadow(0 3px 0 var(--color-light)) drop-shadow(-3px 0 0 var(--color-light)) drop-shadow(0 -3px 0 var(--color-light)) drop-shadow(0 5px 10px #00000075);position:absolute;bottom:50%;left:50%;transform:translate(-50%,50%);animation:_ngcontent-%COMP%_creditsLogo 28s linear 1}.tim[_ngcontent-%COMP%]{filter:drop-shadow(0 5px 0px #00000075);position:absolute;bottom:50%;transform:translateY(50%) scaleX(-1);left:60px;width:300px}.tim2[_ngcontent-%COMP%]{filter:drop-shadow(0 5px 0px #00000075);position:absolute;bottom:50%;transform:translateY(50%);right:60px;width:300px}@keyframes _ngcontent-%COMP%_credits{0%{top:200px;opacity:1}95%{opacity:1}to{top:-2000px;opacity:0}}@keyframes _ngcontent-%COMP%_creditsLogo{0%{opacity:0;bottom:0}91%{bottom:0%}92%{opacity:0;bottom:48%}to{bottom:50%;opacity:1}}@media (max-width: 840px){@media (orientation: portrait){.credits-logo[_ngcontent-%COMP%]{width:400px;filter:drop-shadow(2px 0 0 var(--color-light)) drop-shadow(0 2px 0 var(--color-light)) drop-shadow(-2px 0 0 var(--color-light)) drop-shadow(0 -2px 0 var(--color-light)) drop-shadow(0 5px 10px #00000075);animation-duration:32s}.tim[_ngcontent-%COMP%], .tim2[_ngcontent-%COMP%]{display:none}}}@media (max-height: 840px){@media (orientation: landscape){.credits-logo[_ngcontent-%COMP%]{width:400px;filter:drop-shadow(2px 0 0 var(--color-light)) drop-shadow(0 2px 0 var(--color-light)) drop-shadow(-2px 0 0 var(--color-light)) drop-shadow(0 -2px 0 var(--color-light)) drop-shadow(0 5px 10px #00000075);animation-duration:28s}.tim[_ngcontent-%COMP%], .tim2[_ngcontent-%COMP%]{display:none}}}"]});let i=n;return i})();function Ee(i,n){if(i&1){let h=b();s(0,"app-home",1),d("sendMessage",function(t){v(h);let o=g();return C(o.getMsgFromHome(t))}),r()}}function De(i,n){if(i&1){let h=b();s(0,"app-tile",1),d("sendMessage",function(t){v(h);let o=g();return C(o.getMsgFromTile(t))}),r()}}function Oe(i,n){if(i&1){let h=b();s(0,"app-end",1),d("sendMessage",function(t){v(h);let o=g();return C(o.getMsgFromEndingScreen(t))}),r()}}function Se(i,n){if(i&1){let h=b();s(0,"app-credits",1),d("sendMessage",function(t){v(h);let o=g();return C(o.getMsgFromCredits(t))}),r()}}function Ae(i,n){if(i&1){let h=b();s(0,"app-replay",1),d("sendMessage",function(t){v(h);let o=g();return C(o.getMsgFromReplay(t))}),r()}}var U=(()=>{let n=class n{constructor(){this.condition="start"}getMsgFromHome(e){this.condition=e}getMsgFromEndingScreen(e){this.condition=e}getMsgFromTile(e){this.condition=e}getMsgFromCredits(e){this.condition=e}getMsgFromReplay(e){this.condition=e}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m({type:n,selectors:[["app-game"]],standalone:!0,features:[f],decls:6,vars:5,consts:[[3,"sendMessage",4,"ngIf"],[3,"sendMessage"]],template:function(t,o){t&1&&(M(0,Ee,1,0,"app-home",0)(1,De,1,0,"app-tile",0)(2,Oe,1,0,"app-end",0)(3,Se,1,0,"app-credits",0)(4,Ae,1,0,"app-replay",0),p(5,"router-outlet")),t&2&&(c("ngIf",o.condition==="start"),l(),c("ngIf",o.condition==="game"),l(),c("ngIf",o.condition==="end"),l(),c("ngIf",o.condition==="credits"),l(),c("ngIf",o.condition==="replay"))},dependencies:[_,T,Z,ee,te,ne,ie,re,oe]});let i=n;return i})();var Pe=[{path:"",component:U}],fn=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=A({type:n}),n.\u0275inj=S({imports:[Y,U,_,K.forChild(Pe)]});let i=n;return i})();export{fn as GameModule};
